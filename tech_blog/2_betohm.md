# 【個人開発】未来予想して無料で賭けをするSNS - べトーム - を作って技術的なやってよかったこと　技術選定編

# まずは宣伝！！！

「今年のワールドカップの優勝国は？」などのスポーツベッティングや「来月のドル円はいくらになる？」などの経済の話題、「東京の明日の天気は？」などの軽いことまで、様々な話題を投稿してみんなで賭ける、SNS賭けアプリです！
賭けの成績が良い順にランクが決まります！あなたの未来予測力を試してみませんか？

詳細はこちら↓
https://nirai.io/betohm/ja/lp.html

ぜひダウンロードしてください！

宣伝はこのくらいにして、技術の話をします。

# Flutterを採用してよかった

採用理由はやっぱりクロスプラットフォーム開発ができることですね。

個人開発のため、AndroidとiOS両方開発していると開発効率が落ちてしまうので、Flutterは大変ありがたい存在です。

SNS賭けアプリはネイティブの機能も使う事はあまりないですし、アプリをリリースして1ヶ月経ちますが、現時点ではFlutterで困っていることはありません。

# Firebaseを採用してよかった

FlutterとFirebaseの組み合わせは黄金比！！※開発効率において

Flutterはフロント側の開発効率をあげますが、Firebaseはバックエンドの機能を提供しているので、バックエンドの開発効率も上げられます。

アプリ側に少し処理を書くだけで、バックエンドの処理を書く必要はありません！





嘘です！過言です！

バックエンドの処理を書く必要ないはだいぶ盛りました。

真面目に書くと7割くらいは書く必要ないですかね。

SNS賭けアプリではバックエンドも書いていて、FirebaseのCloud Functionsを使って一部のリクエストにCallable（HTTPリクエストのようなもの）を使ったりやスケジュールされたバッチ処理などをしています。
完全にバックエンドがいらない訳ではないですが、それ以外の以下機能などはFirebaseのコンソールで少し設定してアプリ側に何行かコードを書くだけで実装できます。

- Authentication（EmailとPassword認証、Google認証）
- Cloud Firestore（NoSQLドキュメントデータベース）
- Cloud Messaging（Push通知）
- Dynamic Links（共有機能）
- Cloud Storage（ユーザーアイコンなどの画像の保存）
- Analytics（データ分析）

ただ、デメリットとして、アプリ側にバックエンドの処理があるため、とある登録処理の値を1から2に変更したい場合、APIだったら、その登録処理を修正してリリースするとその瞬間から全てのリクエストが2に変わりますが、アプリ側にバックエンドの処理があると、アプリ側のコードを修正して、アプリを審査に出して、リリースされてもユーザーがアプリを更新してもらう必要があります。一応強制アップデートさせるという方法はありますが、Firebaseを使うことによるデメリットもいくつかあります。

もう一つデメリットを挙げると、Firebaseを使うからこそ必要になることがあり、データベースやストレージの取得登録更新削除などの権限の設定や異常な値が入ってしまわないためのセキュリティールールの設定が必要です。

バックエンドの処理がアプリ側にあるためデータベースの更新などもアプリから行われます。
アプリからデータベースの更新処理をしているという事は、値を書き換えてしまえばデータベースの自由に操作できることになり、セキュリティールールを正しく設定しないと、delete権限がゆるい場合は、最悪、全データ削除されてしまったということもあり得ます。

なので、セキュリティールールの設定には注意です！！！




（あれ、デメリット多くない？）

デメリットの分量が多くなりましたが、開発効率においては素晴らしいのでおすすめです！！！

あと料金面も素晴らしいですね！
無料枠の量もかなりあって、数百人しか使わないサービスならほとんどお金かからないんじゃないかな？

# Algoliaを採用してよかった

こちらも開発効率が上がる系です！（SNS賭けアプリ以外にも作りたいアプリがあるので、あんまり時間は掛けたくないし、あるものは使え精神です！）

Firebaseの弱点としてNoSQLであることが挙げられます。
NoSQLは検索機能が貧弱で、全文検索など高度な検索には向きません。

その問題を解決するためのAlgoliaです。

学習コストも低く、実装も簡単でデータを入れるだけですぐに、全文検索が使えます。

ただ、料金が高く、ユーザーが増えてもAlgoliaの料金が高くて利益が出ないとかなると意味がないので、これに関しては"まだ"良かったとは言い切れないですね。（ユーザーが増えてどのくらい料金がかかるか分かったら記事にします。）

技術選定編はこれまでとします。

次回は「【個人開発】未来予想して無料で賭けをするSNS - べトーム - を作って技術的なやってよかったこと　Flutter編」です。


最後に...

アプリの詳細はこちら↓です！
https://nirai.io/betohm/ja/lp.html
ぜひダウンロードしてください！